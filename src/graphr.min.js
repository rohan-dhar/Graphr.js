function Graphr(t,i){i?"CANVAS"!==i.nodeName&&(i=document.createElement("canvas"),document.getElementsByTagName("BODY")[0].appendChild(i)):(i=document.createElement("canvas"),document.getElementsByTagName("BODY")[0].appendChild(i)),this.can=i,this.ctx=this.can.getContext("2d"),t=t||{},this.can.height=t.height||250,this.can.width=t.width||500,this.gridColor=t.gridColor||"#fff",this.backgroundColor=t.backgroundColor||"#223",t.grid===!1?this.grid=!1:this.grid=!0,this.increment=.005,!t.rangeStart&&0!==t.rangeStart||!t.rangeEnd&&0!==t.rangeEnd?this.range={start:-10,end:10}:t.rangeStart<t.rangeEnd?this.range={start:t.rangeStart,end:t.rangeEnd}:(console.warn("Incorrect values provided for rangeStart or rangeEnd for the Graphr constructor! Using the default values."),this.range={start:-10,end:10}),this.equations=[],this.scale=0,this.lastPoint={x:0,y:0},this.init()}Graphr.prototype.renderGrid=function(){this.ctx.strokeStyle=this.gridColor,this.ctx.globalAlpha=.1;for(var t=0;t<this.range.end-this.range.start;t++)this.ctx.beginPath(),this.ctx.moveTo((this.range.start+t)*this.scale,this.can.height/2),this.ctx.lineTo((this.range.start+t)*this.scale,-this.can.height/2),this.ctx.stroke(),this.ctx.closePath();this.ctx.globalAlpha=1,this.ctx.beginPath(),this.ctx.moveTo(0,this.can.height/2),this.ctx.lineTo(0,-this.can.height/2),this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=.1,t=0;for(var i=0,h=this.range.start*this.scale,e=this.range.end*this.scale;i<=this.can.height/2;)i=t*this.scale,this.ctx.beginPath(),this.ctx.moveTo(h,i),this.ctx.lineTo(e,i),this.ctx.stroke(),this.ctx.closePath(),this.ctx.beginPath(),this.ctx.moveTo(h,-i),this.ctx.lineTo(e,-i),this.ctx.stroke(),this.ctx.closePath(),t++;this.ctx.globalAlpha=1,this.ctx.beginPath(),this.ctx.moveTo(h,0),this.ctx.lineTo(e,0),this.ctx.stroke(),this.ctx.closePath()},Graphr.prototype.render=function(t,i){this.ctx.strokeStyle=this.equations[t][1],this.lastPoint.x=this.range.start,this.lastPoint.y=this.equations[t][0](this.range.start);for(var h=this,e=h.range.start;e<h.range.end;e+=h.increment){var r=this.equations[t][0](e);h.ctx.beginPath(),h.ctx.moveTo(h.lastPoint.x*h.scale,-h.lastPoint.y*h.scale),h.ctx.lineTo(e*h.scale,-r*h.scale),h.ctx.stroke(),h.ctx.closePath(),h.lastPoint.x=e,h.lastPoint.y=r,h.x+=h.increment}},Graphr.prototype.renderAll=function(){var t=this;for(i in t.equations)t.render(i)},Graphr.prototype.init=function(t){this.ctx.translate(0,0),this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.can.width,this.can.height),this.scale=this.can.width/(this.range.end-this.range.start),this.ctx.translate(-this.range.start*this.scale,this.can.height/2),this.grid&&this.renderGrid()},Graphr.prototype.addGraph=function(t,i){i=i||"#ff5155";var h={};if(t&&"[object Function]"===h.toString.call(t)){var e=this.equations.push([t,i])-1;return this.render(e),e}return console.warn("Graphr >> Incorrect equation function provided to Graphr.addGraph(). Can not draw the graph."),!1},Graphr.prototype.changeDimensions=function(t,i){var h=this;return(0>t||0!==t&&!t)&&(t=h.can.width),(0>i||0!==i&&!i)&&(i=h.can.height),this.can.width=t,this.can.height=i,this.init(),this.renderAll(),!0},Graphr.prototype.removeGrid=function(){return this.grid=!1,this.can.height=this.can.height,this.init(),this.renderAll(),!0},Graphr.prototype.addGrid=function(){return this.grid=!0,this.can.height=this.can.height,this.init(),this.renderAll(),!0},Graphr.prototype.changeBackgroundColor=function(t){return t?(this.backgroundColor=t,this.can.height=this.can.height,this.init(),this.renderAll(),!0):!1},Graphr.prototype.changeGridColor=function(t){return t?(this.gridColor=t,this.can.height=this.can.height,this.init(),this.renderAll(),!0):!1},Graphr.prototype.changeRange=function(t,i){return!t&&0!==t||!i&&0!==i?!1:i>t?(this.range={start:t,end:i},this.can.height=this.can.height,this.init(),this.renderAll(),!0):(console.warn("Incorrect values provided for start or end for the Graphr.changeRange(). Using the default values."),!1)},Graphr.prototype.removeGraph=function(t){return this.equations[t]?(this.equations.splice(t,1),this.can.height=this.can.height,this.init(),this.renderAll(),!0):!1},Graphr.prototype.changeGraph=function(t,i){if(this.equations[t]){var h={};return i&&"[object Function]"===h.toString.call(i)?(this.equations[t][0]=i,this.can.height=this.can.height,this.init(),this.renderAll(),!0):(console.warn("Graphr >> Incorrect equation function provided to Graphr.changeGraph(). Can not draw the graph."),!1)}return!1},Graphr.prototype.changeGraphColor=function(t,i){return i&&this.equations[t]?(this.equations[t][1]=i,this.can.height=this.can.height,this.init(),this.renderAll(),!0):!1};